.PHONY: help build run clean test install

help: ## Mostra esta mensagem de ajuda
	@echo "ğŸ“‹ Comandos disponÃ­veis:"
	@grep -E '^[a-zA-Z_-]+:.*?## .*$$' $(MAKEFILE_LIST) | awk 'BEGIN {FS = ":.*?## "}; {printf "  \033[36m%-15s\033[0m %s\n", $$1, $$2}'

build: ## Compila o projeto
	@echo "ğŸ”¨ Compilando..."
	@go build -o find-instagram main.go
	@echo "âœ… Build concluÃ­do!"

run: build ## Compila e executa com exemplo
	@echo "ğŸš€ Executando exemplo..."
	@./find-instagram "Magazine Luiza"

clean: ## Remove binÃ¡rios e arquivos temporÃ¡rios
	@echo "ğŸ§¹ Limpando..."
	@rm -f find-instagram
	@rm -f *.csv
	@echo "âœ… Limpeza concluÃ­da!"

test: ## Executa os testes
	@echo "ğŸ§ª Executando testes..."
	@go test -v ./...

install: ## Instala as dependÃªncias
	@echo "ğŸ“¦ Instalando dependÃªncias..."
	@go mod download
	@go mod tidy
	@echo "âœ… DependÃªncias instaladas!"

fmt: ## Formata o cÃ³digo
	@echo "ğŸ¨ Formatando cÃ³digo..."
	@go fmt ./...
	@echo "âœ… CÃ³digo formatado!"

vet: ## Analisa o cÃ³digo
	@echo "ğŸ” Analisando cÃ³digo..."
	@go vet ./...
	@echo "âœ… AnÃ¡lise concluÃ­da!"
